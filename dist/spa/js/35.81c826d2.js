"use strict";(globalThis["webpackChunkDostr"]=globalThis["webpackChunkDostr"]||[]).push([[35],{50035:(e,t,l)=>{l.r(t),l.d(t,{default:()=>R});var n=l(59835),o=l(86970);const s=e=>((0,n.dD)("data-v-d925688e"),e=e(),(0,n.Cn)(),e),r={class:"q-py-md q-px-sm"},a=s((()=>(0,n._)("div",null,"- or -",-1))),i={class:"flex row no-wrap full-width",style:{gap:"1rem"}},d=s((()=>(0,n._)("pre",{class:"sf-mono",id:"nip05-response"},null,-1)));function u(e,t,l,s,u,c){const m=(0,n.up)("BaseHeader"),p=(0,n.up)("q-tab"),h=(0,n.up)("q-tabs"),y=(0,n.up)("BaseButtonCopy"),b=(0,n.up)("q-input"),x=(0,n.up)("q-btn"),w=(0,n.up)("q-tab-panel"),f=(0,n.up)("TheSqlEditor"),k=(0,n.up)("q-tab-panels"),g=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(g,{style:{"margin-top":"15px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{style:{"margin-left":"30px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.$t("devTools")),1)])),_:1}),(0,n._)("div",r,[(0,n.Wm)(h,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),dense:"",outline:"",align:"left","active-color":"accent"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"keyConverter",label:"key converter"}),(0,n.Wm)(p,{name:"sqlQuery",label:"sql query"}),(0,n.Wm)(p,{name:"nip05Tester",label:"nip-05 Tester"})])),_:1},8,["modelValue"]),(0,n.Wm)(k,{modelValue:e.tab,"onUpdate:modelValue":t[5]||(t[5]=t=>e.tab=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{name:"keyConverter",class:"flex column items-center full-width",style:{gap:"0.5rem",background:"var(--q-background)"}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{modelValue:e.keys.bech32,"onUpdate:modelValue":t[1]||(t[1]=t=>e.keys.bech32=t),filled:"",dense:"",label:'enter public key ("npub") or event ID ("note") here',class:"full-width"},{append:(0,n.w5)((()=>[(0,n.Wm)(y,{color:"secondary","button-text":e.keys.bech32},null,8,["button-text"])])),_:1},8,["modelValue"]),a,(0,n._)("div",i,[(0,n.Wm)(b,{modelValue:e.keys.prefix,"onUpdate:modelValue":t[2]||(t[2]=t=>e.keys.prefix=t),filled:"",dense:"",label:"prefix",style:{width:"10rem"}},null,8,["modelValue"]),(0,n.Wm)(b,{modelValue:e.keys.hex,"onUpdate:modelValue":t[3]||(t[3]=t=>e.keys.hex=t),filled:"",dense:"",label:"enter hexadecimal key here",class:"full-width"},{append:(0,n.w5)((()=>[(0,n.Wm)(y,{color:"secondary","button-text":e.keys.hex},null,8,["button-text"])])),_:1},8,["modelValue"])]),(0,n.Wm)(x,{spread:"",label:"convert",color:"primary",outline:"",class:"full-width q-mt-md",onClick:e.convertKeys},null,8,["onClick"])])),_:1}),(0,n.Wm)(w,{name:"sqlQuery"},{default:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:1}),(0,n.Wm)(w,{name:"nip05Tester"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{modelValue:e.nip05Id,"onUpdate:modelValue":t[4]||(t[4]=t=>e.nip05Id=t),filled:"",dense:"",label:"enter NIP-05 identifier here",class:"full-width"},null,8,["modelValue"]),(0,n.Wm)(x,{spread:"",label:"test",color:"primary",outline:"",class:"full-width q-mt-md",onClick:e.fetchNip05},null,8,["onClick"]),d])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var c=l(18933),m=l(6827),p=l(31020),h=l(23426),y=l(61957);const b=e=>((0,n.dD)("data-v-01d0dfd3"),e=e(),(0,n.Cn)(),e),x={style:{display:"flex","flex-direction":"row",gap:"1rem",padding:"0.5rem 0","align-items":"center"}},w=(0,n.Uk)("Execute"),f=b((()=>(0,n._)("div",{id:"error",class:"error"},null,-1))),k=b((()=>(0,n._)("pre",{id:"output",class:"code"},"Results will be displayed here",-1)));function g(e,t,l,o,s,r){const a=(0,n.up)("q-btn"),i=(0,n.up)("q-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.sql=t),id:"editor"},null,512),[[y.nr,e.sql]]),(0,n._)("div",x,[(0,n.Wm)(a,{id:"execute",color:"primary",outline:"",onClick:e.execEditorContents},{default:(0,n.w5)((()=>[w])),_:1},8,["onClick"])]),f,e.rows.length?((0,n.wg)(),(0,n.j4)(i,{key:0,rows:e.rows,dense:"","wrap-cells":"","rows-per-page-options":[10,50,100,0]},null,8,["rows"])):(0,n.kq)("",!0),k])}var v=l(34136),q=l(13555),T=l.n(q);l(50053);const E=(0,n.aZ)({name:"TheSqlEditor",mixins:[c.Z],components:{},data(){return{codeEditor:null,tictime:null,sql:"SELECT * FROM nostr_events;\n-- SELECT * FROM nostr_users;",rows:[],tab:"keyConverter",keys:{hex:"",bech32:""}}},computed:{editor(){return document.getElementById("editor")},commands(){return document.getElementById("commands")},executeButton(){return document.getElementById("execute")},output(){return document.getElementById("output")},error(){return document.getElementById("error")}},mounted(){this.codeEditor=T().fromTextArea(this.editor,{mode:"text/x-sql",theme:"dracula",viewportMargin:1/0,indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Enter":this.execEditorContents}})},activated(){},deactivated(){},methods:{execEditorContents(){console.log("sql",this.codeEditor.getValue()),this.noerror(),this.rows=[],this.execute(this.codeEditor.getValue()+";")},async execute(e){let t;this.tic(),this.output.textContent="Fetching results...",t=await(0,v.$d)(e),this.toc("Executing SQL"),this.tic(),this.output.innerHTML="",t&&t.length?(this.rows=t,this.toc("Displaying results")):this.print("0 rows returned")},print(e){this.output.innerHTML=e.replace(/\n/g,"<br>")},displayError(e){console.log(e),this.error.style.height="2em",this.error.textContent=e.message},noerror(){this.error.style.height="0"},tic(){this.tictime=Date.now()},toc(e){let t=Date.now()-this.tictime;console.log((e||"toc")+": "+t+"ms")}}});var C=l(11639),_=l(24455),V=l(47358),W=l(47817),Z=l(69984),I=l.n(Z);const B=(0,C.Z)(E,[["render",g],["__scopeId","data-v-01d0dfd3"]]),D=B;I()(E,"components",{QBtn:_.Z,QTable:V.Z,QTabs:W.Z});var Q=l(36836);const S={title:"Dostr - DevTools",meta:{description:{name:"description",content:"Developer tools for Dostr client"},keywords:{name:"keywords",content:"nostr dostr decentralized social media siwe siwx"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}},U=(0,n.aZ)({name:"DevTools",mixins:[c.Z,(0,p.Z)(S)],components:{BaseButtonCopy:h.Z,TheSqlEditor:D},data(){return{codeEditor:null,tictime:null,sql:"SELECT * FROM nostr_events;\n-- SELECT * FROM nostr_users;",rows:[],tab:"keyConverter",keys:{hex:"",bech32:"",prefix:""},nip05Id:""}},methods:{convertKeys(){this.keys.bech32&&this.isBech32Key(this.keys.bech32)?this.keys.hex=this.bech32ToHex(this.keys.bech32):this.keys.hex&&this.isKey(this.keys.hex)?this.keys.bech32=this.hexToBech32(this.keys.hex,this.keys.prefix):m.Z.create({message:"Invalid Key ‚ùå",color:"negative",classes:"notify"})},async fetchNip05(){let e=await Q.r$.queryProfile(this.nip05Id);console.log("NIP-05 Response: ",e),document.querySelector("#nip05-response").innerText=JSON.stringify(e,null,2)}}});var L=l(69885),M=l(70900),F=l(89800),K=l(84106),N=l(66611);const P=(0,C.Z)(U,[["render",u],["__scopeId","data-v-d925688e"]]),R=P;I()(U,"components",{QPage:L.Z,QTabs:W.Z,QTab:M.Z,QTabPanels:F.Z,QTabPanel:K.Z,QInput:N.Z,QBtn:_.Z})}}]);