"use strict";(globalThis["webpackChunkDostr"]=globalThis["webpackChunkDostr"]||[]).push([[765],{2935:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Rt});var s=a(59835),l=a(86970),i=a(61957);const n=e=>((0,s.dD)("data-v-d7a658c4"),e=e(),(0,s.Cn)(),e),o={key:0,class:"flex gt-sm",style:{"margin-left":"77%",gap:"0.2rem"}},r={key:1,class:"flex lt-md",style:{"margin-left":"65%",gap:"0.2rem"}},d={class:"text-bold flex justify-between no-wrap spotnik",style:{"font-size":"1.1rem"}},c=(0,s.Uk)(" Click to manually set your NIP-05 on ENS domain. This process will be automated soon "),m={class:"flex row no-wrap",style:{gap:"1rem"}},u=(0,s.Uk)(" Click to manually set your LUD-06 on ENS domain. This process will be automated soon "),p={class:"section"},h={key:0,class:"flex gt-sm",style:{"margin-left":"77%",gap:"0.2rem"}},f={key:1,class:"flex lt-md",style:{"margin-left":"65%",gap:"0.2rem"}},g={class:"text-bold flex justify-between no-wrap spotnik",style:{"font-size":"1.1rem"}},y={class:"text-normal flex row no-wrap",style:{"font-size":"0.6rem",gap:"0.4rem"}},k={key:1,style:{margin:"10px 7px 0 0",color:"lightgreen"}},w={key:2,style:{margin:"10px 0 0",color:"orange"}},b={class:"flex row justify-between no-wrap",style:{display:"inline-block","overflow-y":"hidden","white-space":"nowrap"}},v={class:"sf-mono ellipses gt-sm",style:{"margin-left":"10px","margin-right":"5px","max-width":"90%","font-size":"13px","letter-spacing":"-0.5px","white-space":"nowrap",overflow:"auto"}},x={class:"sf-mono ellipses lt-md",style:{"margin-left":"10px","margin-right":"5px","max-width":"90%","font-size":"13px","letter-spacing":"-0.5px","white-space":"nowrap",overflow:"auto"}},_={class:"flex no-wrap items-center",style:{gap:"0.6rem","margin-right":"5px"}},C={class:"flex row no-wrap q-mx-sm q-mt-sm",id:"new-relay-input",style:{"margin-bottom":"10px"}},S={style:{"max-height":"6.75rem"}},U={class:"relay-list"},P=(0,s.Uk)("                "),W=["onClick"],R=(0,s.Uk)("\n                  "),T={class:"flex row justify-between no-wrap"},z=(0,s.Uk)("\n                    "),L=(0,s.Uk)("\n                    "),$=(0,s.Uk)("\n                  "),q=(0,s.Uk)("\n                "),V=(0,s.Uk)("\n              "),D={class:"text-bold flex justify-between no-wrap full-width",style:{"font-size":"1.1rem"}},M={class:"flex no-wrap section gt-sm",style:{gap:"0.2rem"}},A={class:"flex section lt-md",style:{align:"center",gap:"0.2rem"}},I={style:{display:"flex",margin:"5px auto 15px","justify-content":"center"}},O={style:{"font-size":"24px"},class:"spotnik text-bold tracking-wide leading-relaxed py-2"},j=(0,s.Uk)(" YOUR KEYS "),N={style:{display:"flex",margin:"10px auto 10px","justify-content":"center"}},E={key:0,class:"keys-header"},B=(0,s.Uk)(" ⚠️  Please backup your "),F=n((()=>(0,s._)("b",{style:{color:"orange"}},"Private Key",-1))),Z=[B,F],K={key:1,class:"keys-header"},Y=(0,s.Uk)(" Your "),Q=n((()=>(0,s._)("b",{style:{color:"orange"}},"Private Key",-1))),H=(0,s.Uk)(" is not here! "),G=[Y,Q,H],J={class:"mt-1 text-lg justify-center items-center"},X=n((()=>(0,s._)("span",{class:"sf-mono-tight-small"},[(0,s.Uk)(" Your posts are published using your "),(0,s._)("b",{style:{color:"orange"}},"PRIVATE KEY")],-1))),ee={class:"mt-1 text-lg justify-center items-center"},te=n((()=>(0,s._)("span",{class:"sf-mono-tight-small"},[(0,s.Uk)(" Others can find or follow you using your "),(0,s._)("b",{style:{color:"lightgreen"}},"PUBLIC KEY")],-1))),ae=n((()=>(0,s._)("p",null,[(0,s._)("b",{class:"spotnik",style:{color:"orange","font-size":"15px"}},"PRIVATE KEY"),(0,s.Uk)(": ")],-1))),se=n((()=>(0,s._)("div",{style:{"margin-top":"15px","border-top":"0px solid #b6c6e39f"}},null,-1))),le=n((()=>(0,s._)("p",null,[(0,s._)("b",{class:"spotnik",style:{color:"lightgreen","font-size":"15px"}},"PUBLIC KEY"),(0,s.Uk)(": ")],-1)));function ie(e,t,a,n,B,F){const Y=(0,s.up)("BaseHeader"),Q=(0,s.up)("q-btn"),H=(0,s.up)("q-icon"),ie=(0,s.up)("q-input"),ne=(0,s.up)("BaseUserAvatar"),oe=(0,s.up)("q-tooltip"),re=(0,s.up)("q-markdown"),de=(0,s.up)("q-card-section"),ce=(0,s.up)("q-card-actions"),me=(0,s.up)("q-card"),ue=(0,s.up)("q-dialog"),pe=(0,s.up)("q-form"),he=(0,s.up)("q-separator"),fe=(0,s.up)("ThePreferences"),ge=(0,s.up)("q-toggle"),ye=(0,s.up)("q-item"),ke=(0,s.up)("q-list"),we=(0,s.up)("BaseSelectMultiple"),be=(0,s.up)("BaseInformation"),ve=(0,s.up)("q-expansion-item"),xe=(0,s.up)("q-page"),_e=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(xe,{style:{"margin-top":"15px","margin-bottom":"100px"},id:"settings-page"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y,{style:{"margin-left":"30px"},class:"spotnik"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("settings")),1)])),_:1}),(0,s.Wm)(pe,{class:"q-gutter-md section",onSubmit:F.setMetadata,style:{"margin-top":"15px"}},{default:(0,s.w5)((()=>[B.editingMetadata?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(Q,{label:"save",color:"positive",outline:"",size:"sm",type:"submit"}),(0,s.Wm)(Q,{label:"cancel",color:"negative",outline:"",size:"sm",onClick:t[0]||(t[0]=e=>F.cancel("metadata"))})])):(0,s.kq)("",!0),B.editingMetadata?((0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(Q,{label:"save",color:"positive",outline:"",size:"sm",type:"submit"}),(0,s.Wm)(Q,{label:"cancel",color:"negative",outline:"",size:"sm",onClick:t[1]||(t[1]=e=>F.cancel("metadata"))})])):(0,s.kq)("",!0),(0,s._)("div",d,[(0,s.Uk)((0,l.zw)(e.$t("profile"))+" ",1),B.editingMetadata?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(Q,{key:0,label:"edit",color:"primary",outline:"",size:"sm",disable:!e.$store.getters.canSignEventsAutomatically,onClick:t[2]||(t[2]=e=>B.editingMetadata=!0)},null,8,["disable"]))]),this.$store.state.chainId?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ie,{key:2,modelValue:B.metadata.name,"onUpdate:modelValue":t[3]||(t[3]=e=>B.metadata.name=e),dense:"",filled:"",type:"text",label:"Name",disable:!B.editingMetadata},{before:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"alternate_email"})])),_:1},8,["modelValue","disable"])),this.$store.state.chainId?((0,s.wg)(),(0,s.j4)(ie,{key:3,modelValue:B.metadata.name,"onUpdate:modelValue":t[4]||(t[4]=e=>B.metadata.name=e),value:F.nickname,dense:"",filled:"",type:"text",label:"Name",disable:this.$store.state.chainId.length>0},{before:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"alternate_email"})])),_:1},8,["modelValue","value","disable"])):(0,s.kq)("",!0),(0,s.Wm)(ie,{modelValue:B.metadata.about,"onUpdate:modelValue":t[5]||(t[5]=e=>B.metadata.about=e),disable:!B.editingMetadata,filled:"",autogrow:"",dense:"",type:"text",label:"About [max. 150 characters]",maxlength:"300"},null,8,["modelValue","disable"]),(0,s.Wm)(ie,{modelValue:B.metadata.picture,"onUpdate:modelValue":t[6]||(t[6]=e=>B.metadata.picture=e),modelModifiers:{trim:!0},disable:!B.editingMetadata,filled:"",dense:"",type:"text",label:"Picture URL",maxlength:"150"},{after:(0,s.w5)((()=>[B.metadata.picture?((0,s.wg)(),(0,s.j4)(ne,{key:0,pubkey:e.$store.state.keys.pub,rounded:""},null,8,["pubkey"])):(0,s.kq)("",!0)])),_:1},8,["modelValue","disable"]),this.$store.state.chainId?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ie,{key:4,modelValue:B.metadata.nip05,"onUpdate:modelValue":t[8]||(t[8]=e=>B.metadata.nip05=e),modelModifiers:{trim:!0},disable:!B.editingMetadata,filled:"",dense:"",type:"text",label:"NIP-05 Identifier",maxlength:"100"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{class:"items-end",name:"info",size:"sm",style:{"margin-top":"7px"},onClick:t[7]||(t[7]=e=>F.openExternalLink("/dostr-client/readme/readme.htm?src=https://gist.githubusercontent.com/sshmatrix/ad172b4f0daa5f03560eef94f11f73c3/raw/dbc8a73c537d42383c3cd173f7db4d7c1ac4421c/NIP-05_ENS.md"))},{default:(0,s.w5)((()=>[(0,s.Wm)(oe,{class:"tooltip",anchor:"center left",self:"center right",offset:[10,10],style:{"text-transform":"uppercase"}},{default:(0,s.w5)((()=>[c])),_:1})])),_:1})])),_:1},8,["modelValue","disable"])),this.$store.state.chainId?((0,s.wg)(),(0,s.j4)(ie,{key:5,modelValue:B.metadata.nip05,"onUpdate:modelValue":t[9]||(t[9]=e=>B.metadata.nip05=e),modelModifiers:{trim:!0},dense:"",filled:"",type:"text",placeholder:this.username!==this.petname?this.username:"NIP-05 Identifier",disable:this.$store.state.chainId.length>0,maxlength:"100"},null,8,["modelValue","placeholder","disable"])):(0,s.kq)("",!0),(0,s._)("div",m,[(0,s.Wm)(ie,{modelValue:B.metadata.lud06,"onUpdate:modelValue":t[13]||(t[13]=e=>B.metadata.lud06=e),modelModifiers:{trim:!0},disable:!B.editingMetadata,filled:"",dense:"",type:"text",label:"Lightning Address or LUD-06 Identifier",maxlength:"150",class:"full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{class:"items-end",name:"info",size:"sm",style:{"margin-top":"7px"},onClick:t[12]||(t[12]=e=>(B.dialogVisible=!1,F.openExternalLink("/dostr-client/readme/readme.htm?src=https://gist.githubusercontent.com/sshmatrix/59fccb1279ffe5f0d548f31c5c544246/raw/55ffcfefbeafb494eec899146275c79c40f4bc25/LUD-06_ENS.md")))},{default:(0,s.w5)((()=>[(0,s._)("template",null,[(0,s.Wm)(ue,{modelValue:B.dialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>B.dialogVisible=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(me,null,{default:(0,s.w5)((()=>[(0,s.Wm)(de,null,{default:(0,s.w5)((()=>[(0,s.Wm)(re,{tree:B.markdownTree},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(B.markdownContent),1)])),_:1},8,["tree"])])),_:1}),(0,s.Wm)(ce,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{label:"Close",color:"black",onClick:t[10]||(t[10]=e=>B.dialogVisible=!1),onError:F.handleMarkdownError},null,8,["onError"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s.Wm)(oe,{class:"tooltip",anchor:"center left",self:"center right",offset:[10,10],style:{"text-transform":"uppercase"}},{default:(0,s.w5)((()=>[u])),_:1})])),_:1})])),_:1},8,["modelValue","disable"]),F.hasLnAddr?((0,s.wg)(),(0,s.j4)(Q,{key:0,label:B.showLnAddr?"Show LN-URL (lnurl)":"Show Lightning address",onClick:F.convertLud06,outline:"",dense:"","no-wrap":""},null,8,["label","onClick"])):(0,s.kq)("",!0)])])),_:1},8,["onSubmit"]),(0,s.Wm)(he,{color:"accent",style:{"margin-bottom":"5px"}}),(0,s.Wm)(fe,{onUpdateFont:F.updateFont},null,8,["onUpdateFont"]),(0,s.Wm)(he,{color:"accent"}),(0,s._)("div",p,[B.editingRelays?((0,s.wg)(),(0,s.iD)("div",h,[(0,s.Wm)(Q,{label:"save",color:"positive",outline:"",size:"sm",onClick:F.saveRelays},null,8,["onClick"]),(0,s.Wm)(Q,{label:"cancel",color:"negative",outline:"",size:"sm",onClick:t[14]||(t[14]=e=>F.cancel("relays"))})])):(0,s.kq)("",!0),B.editingRelays?((0,s.wg)(),(0,s.iD)("div",f,[(0,s.Wm)(Q,{label:"save",color:"positive",outline:"",size:"sm",onClick:F.saveRelays},null,8,["onClick"]),(0,s.Wm)(Q,{label:"cancel",color:"negative",outline:"",size:"sm",onClick:t[15]||(t[15]=e=>F.cancel("relays"))})])):(0,s.kq)("",!0),(0,s._)("div",g,[(0,s.Uk)((0,l.zw)(e.$t("relays"))+" ",1),(0,s._)("div",y,[B.editingRelays?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(Q,{key:0,label:"edit",color:"primary",outline:"",size:"sm",disable:!e.$store.getters.canSignEventsAutomatically,onClick:t[16]||(t[16]=e=>B.editingRelays=!0)},null,8,["disable"])),B.editingRelays?((0,s.wg)(),(0,s.iD)("div",k," read ")):(0,s.kq)("",!0),B.editingRelays?((0,s.wg)(),(0,s.iD)("div",w," write ")):(0,s.kq)("",!0)])]),(0,s.Wm)(ke,{class:"flex column q-pt-xs",style:{gap:"0.2rem"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(B.relays),(t=>((0,s.wg)(),(0,s.j4)(ye,{key:t,class:"flex justify-between items-center no-wrap no-padding",style:{"min-height":"1.2rem"}},{default:(0,s.w5)((()=>[(0,s._)("div",b,[B.editingRelays||!B.relays[t].read&&!B.relays[t].write?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(Q,{key:0,color:"secondary",outline:"",size:"sm",label:"Share",disable:B.hasJustSharedRelay||!e.$store.getters.canSignEventsAutomatically,onClick:e=>F.shareRelay(t)},{default:(0,s.w5)((()=>[(0,s.Wm)(oe,{anchor:"top right",self:"center left",offset:[0,40],class:"tooltip-url lt-md"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t),1)])),_:2},1024)])),_:2},1032,["disable","onClick"])),B.editingRelays?((0,s.wg)(),(0,s.j4)(Q,{key:1,color:"negative",label:"remove",outline:"",size:"sm",onClick:e=>F.removeRelay(t)},{default:(0,s.w5)((()=>[(0,s.Wm)(oe,{anchor:"center right",self:"center left",offset:[0,40],class:"tooltip-url lt-md"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t),1)])),_:2},1024)])),_:2},1032,["onClick"])):(0,s.kq)("",!0),(0,s._)("span",v,(0,l.zw)(t),1),(0,s._)("span",x,(0,l.zw)(F.shortUrl(t)),1)]),(0,s._)("div",_,[B.editingRelays?((0,s.wg)(),(0,s.j4)(ge,{key:0,modelValue:B.relays[t].read,"onUpdate:modelValue":e=>B.relays[t].read=e,size:"sm",dense:"","checked-icon":"check","unchecked-icon":"clear",color:"green-6","keep-color":"",class:"no-padding",disable:!e.$store.getters.canSignEventsAutomatically},null,8,["modelValue","onUpdate:modelValue","disable"])):(0,s.kq)("",!0),B.editingRelays?((0,s.wg)(),(0,s.j4)(ge,{key:1,modelValue:B.relays[t].write,"onUpdate:modelValue":e=>B.relays[t].write=e,size:"sm",dense:"",color:"orange","checked-icon":"check","unchecked-icon":"clear","keep-color":"",class:"no-padding",disable:!e.$store.getters.canSignEventsAutomatically},null,8,["modelValue","onUpdate:modelValue","disable"])):(0,s.kq)("",!0)])])),_:2},1024)))),128))])),_:1}),B.editingRelays?((0,s.wg)(),(0,s.j4)(pe,{key:2,class:"q-py-xs",onSubmit:F.addRelay},{default:(0,s.w5)((()=>[(0,s._)("div",C,[(0,s.Wm)(ie,{modelValue:B.newRelay,"onUpdate:modelValue":t[17]||(t[17]=e=>B.newRelay=e),placeholder:"add a relay...",autofocus:"",class:"full-width","input-style":"padding: 2px 2px 2px 2px;",onKeypress:(0,i.D2)(F.addRelay,["enter"]),dense:"",borderless:""},null,8,["modelValue","onKeypress"]),(0,s.Wm)(Q,{icon:"add",color:"positive",size:"sm",flat:"",dense:"",onClick:(0,i.iM)(F.addRelay,["stop"])},null,8,["onClick"])]),(0,s.Wm)(we,null,{options:(0,s.w5)((()=>[(0,s._)("div",S,[(0,s._)("pre",U,[P,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(F.optionalRelays,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t+"-"+e,class:"relay-item",onClick:(0,i.iM)((t=>B.relays[e]={read:!0,write:!0}),["stop"])},[R,(0,s._)("div",T,[z,(0,s._)("span",null,(0,l.zw)(e),1),L,(0,s.Wm)(H,{name:"add",size:"xs",color:"positive",flat:""}),$]),q],8,W)))),128)),V])])])),_:1})])),_:1},8,["onSubmit"])):(0,s.kq)("",!0)]),(0,s.Wm)(he,{color:"accent"}),(0,s.Wm)(ve,{dense:"","expand-icon":"info","expanded-icon":"expand_less",class:"full-width items-center","header-class":"items-center"},{header:(0,s.w5)((()=>[(0,s._)("div",D,(0,l.zw)(e.$t("faq")),1)])),default:(0,s.w5)((()=>[(0,s.Wm)(de,null,{default:(0,s.w5)((()=>[(0,s.Wm)(be)])),_:1})])),_:1}),(0,s.Wm)(he,{color:"accent"}),(0,s._)("div",M,[(0,s.Wm)(Q,{label:"view keys ",outline:"",color:"light-green-7",onClick:t[18]||(t[18]=e=>B.keysDialog=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"vpn_key"})])),_:1}),(0,s.Wm)(Q,{label:"log out ",outline:"",color:"red-7",onClick:F.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"logout"})])),_:1},8,["onClick"]),(0,s.Wm)(Q,{label:"delete local data ",color:"negative",onClick:F.hardReset},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"power_settings_new"})])),_:1},8,["onClick"]),(0,s.Wm)(Q,{label:"dev tools ",outline:"",color:"blue-5",to:{name:"devTools"}},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"build"})])),_:1})]),(0,s._)("div",A,[(0,s.Wm)(Q,{style:{width:"100%"},label:"view your keys ",outline:"",color:"light-green-7",onClick:t[19]||(t[19]=e=>B.keysDialog=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"vpn_key"})])),_:1}),(0,s.Wm)(Q,{style:{width:"100%"},label:"logout ",outline:"",color:"red-7",onClick:F.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"logout"})])),_:1},8,["onClick"]),(0,s.Wm)(Q,{style:{width:"100%"},label:"delete local data ",color:"negative",onClick:F.hardReset},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"power_settings_new"})])),_:1},8,["onClick"]),(0,s.Wm)(Q,{style:{width:"100%"},label:"dev tools ",outline:"",color:"blue-3",to:{name:"devTools"}},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{name:"build"})])),_:1})]),(0,s.Wm)(ue,{modelValue:B.keysDialog,"onUpdate:modelValue":t[24]||(t[24]=e=>B.keysDialog=e),style:{border:"0 solid black","border-radius":"5px"},class:"rajdhani"},{default:(0,s.w5)((()=>[(0,s.Wm)(me,{class:"px-4 py-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(de,null,{default:(0,s.w5)((()=>[(0,s._)("div",I,[(0,s._)("div",O,[j,(0,s.Wm)(H,{name:"vpn_key"})])]),(0,s._)("div",N,[e.$store.state.keys.priv?((0,s.wg)(),(0,s.iD)("p",E,Z)):((0,s.wg)(),(0,s.iD)("p",K,G))]),(0,s._)("div",null,[(0,s._)("div",J,[(0,s.Wm)(H,{size:"sm",name:"bookmark_added"}),X]),(0,s._)("div",ee,[(0,s.Wm)(H,{size:"sm",name:"devices"}),te])])])),_:1}),(0,s.Wm)(de,null,{default:(0,s.w5)((()=>[ae,(0,s.Wm)(ie,{style:{"margin-top":"-5px"},modelValue:F.nsecKey,"onUpdate:modelValue":t[21]||(t[21]=e=>F.nsecKey=e),class:"mb-2 code-flat",readonly:"",filled:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{icon:"content_copy",size:"sm",flat:"",onClick:t[20]||(t[20]=e=>F.copyCode(this.hexToBech32(this.$store.state.keys.priv,"nsec"))),class:"copy-btn-priv"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe,{class:"tooltip",anchor:"center left",self:"center right",offset:[10,10]},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("COPY PRIVATE KEY")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),se,le,(0,s.Wm)(ie,{style:{"margin-top":"-5px"},modelValue:F.npubKey,"onUpdate:modelValue":t[23]||(t[23]=e=>F.npubKey=e),readonly:"",filled:"",class:"code-flat"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{icon:"content_copy",size:"sm",flat:"",onClick:t[22]||(t[22]=e=>F.copyCode(this.hexToBech32(this.$store.state.keys.pub,"npub"))),class:"copy-btn-pub"},{default:(0,s.w5)((()=>[(0,s.Wm)(oe,{class:"tooltip",anchor:"center left",self:"center right",offset:[10,10]},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("COPY PUBLIC KEY")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(ce,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(Q,{icon:"close",size:"md",flat:"",round:"",class:"absolute-top-right z-top"},null,512),[[_e]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}a(46727);var ne=a(63703),oe=a(65054),re=a(36836),de=a(18933),ce=a(38114),me=a(6393);const ue=e=>((0,s.dD)("data-v-e82624ac"),e=e(),(0,s.Cn)(),e),pe={key:0},he={key:0,class:"flex gt-sm",style:{"margin-left":"77%",gap:"0.2rem"}},fe={key:1,class:"flex lt-md",style:{"margin-left":"65%",gap:"0.2rem"}},ge={class:"text-bold flex justify-between no-wrap spotnik",style:{"font-size":"1.1rem"}},ye={class:"text-normal flex row no-wrap",style:{"font-size":"0.9rem",gap:"0.4rem"}},ke={class:"flex column q-px-sm",style:{gap:"0.3rem","margin-top":"10px"}},we={class:"text-bold flex justify-between no-wrap spotnik",style:{"font-size":"13px"}},be={key:0,style:{"padding-left":"0.2rem",gap:"1rem"},class:"flex row"},ve=["for"],xe=["id","name","value","disabled","onInput"],_e=(0,s.Uk)((0,l.zw)("customise theme")),Ce=["onClick"],Se={class:"text-bold flex justify-between no-wrap spotnik",style:{"font-size":"13px","margin-top":"10px"}},Ue={class:"flex column q-px-sm",style:{gap:"0.3rem"}},Pe=(0,s.Uk)(" OFF "),We=(0,s.Uk)(" ON "),Re=ue((()=>(0,s._)("span",{style:{"white-space":"nowrap","font-size":"12px"},class:"spotnik"},[(0,s._)("strong",null,"tip presets")],-1))),Te={key:0,class:"flex row no-wrap items-center",style:{gap:"2rem"}},ze={key:1,style:{"margin-top":"10px"}},Le=ue((()=>(0,s._)("span",{style:{"white-space":"nowrap","font-size":"12px",color:"info"},class:"spotnik"},[(0,s._)("strong",null,"one-click tip")],-1))),$e={style:{"font-size":"0.9rem","margin-top":"5px"}},qe=(0,s.Uk)(" You will need a "),Ve=ue((()=>(0,s._)("strong",null,"webln",-1))),De=(0,s.Uk)(" enabled wallet like "),Me=ue((()=>(0,s._)("strong",null,"Alby",-1))),Ae=(0,s.Uk)(" to use this feature. Setting a preset budget in your "),Ie=ue((()=>(0,s._)("strong",null,"webln",-1))),Oe=(0,s.Uk)(" wallet for Nostr will give you a true one-click experience. This will authorize a tip of a set default amount to the author of a note with one click of the "),je=(0,s.Uk)(),Ne=ue((()=>(0,s._)("strong",null,"Lightning Tip",-1))),Ee=(0,s.Uk)(" button. The "),Be=(0,s.Uk)(" dropdown button to the left will take you through the normal "),Fe=ue((()=>(0,s._)("strong",null,"Lightning Tip",-1))),Ze=(0,s.Uk)(" pay-flow. "),Ke={key:0,class:"flex row no-wrap items-center",style:{gap:"2rem"}},Ye=(0,s.Uk)(" OFF "),Qe=(0,s.Uk)(" ON ");function He(e,t,a,n,o,r){const d=(0,s.up)("q-btn"),c=(0,s.up)("BaseSelect"),m=(0,s.up)("q-toggle"),u=(0,s.up)("q-input"),p=(0,s.up)("q-icon");return(0,s.wg)(),(0,s.iD)("div",{style:{padding:"0.2rem 0.5rem 1rem"},onClick:t[7]||(t[7]=(...e)=>r.closeSelects&&r.closeSelects(...e))},[Object.keys(o.preferences).length?((0,s.wg)(),(0,s.iD)("div",pe,[o.editingPreferences?((0,s.wg)(),(0,s.iD)("div",he,[(0,s.Wm)(d,{label:"save",color:"positive",outline:"",size:"sm",onClick:r.savePreferences},null,8,["onClick"]),(0,s.Wm)(d,{label:"cancel",color:"negative",outline:"",size:"sm",onClick:t[0]||(t[0]=e=>r.cancel("preferences"))})])):(0,s.kq)("",!0),o.editingPreferences?((0,s.wg)(),(0,s.iD)("div",fe,[(0,s.Wm)(d,{label:"save",color:"positive",outline:"",size:"sm",onClick:r.savePreferences},null,8,["onClick"]),(0,s.Wm)(d,{label:"cancel",color:"negative",outline:"",size:"sm",onClick:t[1]||(t[1]=e=>r.cancel("preferences"))})])):(0,s.kq)("",!0),(0,s._)("div",ge,[(0,s.Uk)((0,l.zw)(e.$t("preferences"))+" ",1),(0,s._)("div",ye,[o.editingPreferences?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:0,label:"edit",color:"primary",outline:"",size:"sm",onClick:t[2]||(t[2]=e=>o.editingPreferences=!0)}))])]),(0,s._)("div",ke,[(0,s._)("div",we,(0,l.zw)(e.$t("colors")),1),o.preferences.color?((0,s.wg)(),(0,s.iD)("div",be,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(o.preferences.color),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"flex column items-center"},[(0,s._)("label",{for:e,style:{"font-size":"12px"}},(0,l.zw)(e.toUpperCase()),9,ve),(0,s._)("input",{type:"color",id:e,name:e,value:o.preferences.color[e],disabled:!o.editingPreferences,onInput:t=>r.updateColor(t.target.value,e)},null,40,xe)])))),128)),(0,s.Wm)(c,{"allow-selection":o.editingPreferences,selecting:o.choosingTheme,style:{width:"200px"},onToggle:t[3]||(t[3]=e=>o.choosingTheme=!o.choosingTheme)},{default:(0,s.w5)((()=>[_e])),"list-items":(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(o.themes),((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,onClick:(0,i.iM)((t=>r.updateTheme(o.themes[e])),["stop"])},[(0,s._)("span",null,(0,l.zw)(e),1)],8,Ce)))),128))])),_:1},8,["allow-selection","selecting"])])):(0,s.kq)("",!0),(0,s._)("div",Se,(0,l.zw)(e.$t("Lightning Tips ⚡")),1),(0,s._)("div",Ue,[(0,s._)("div",null,[Pe,(0,s.Wm)(m,{modelValue:o.preferences.lightningTips.enabled,"onUpdate:modelValue":t[4]||(t[4]=e=>o.preferences.lightningTips.enabled=e),disable:!o.editingPreferences,"checked-icon":"check","unchecked-icon":"clear",color:"info","keep-color":"",size:"sm"},null,8,["modelValue","disable"]),We]),Re,o.preferences.lightningTips.enabled?((0,s.wg)(),(0,s.iD)("div",Te,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.preferences.lightningTips.presets,((e,t)=>((0,s.wg)(),(0,s.j4)(u,{key:t,modelValue:o.preferences.lightningTips.presets[t],"onUpdate:modelValue":e=>o.preferences.lightningTips.presets[t]=e,type:"number",label:"default "+(t+1),disable:!o.editingPreferences,dense:"",filled:"",suffix:"sats","input-class":"sf-mono"},null,8,["modelValue","onUpdate:modelValue","label","disable"])))),128))])):(0,s.kq)("",!0),o.hasWebLn?((0,s.wg)(),(0,s.iD)("div",ze,[Le,(0,s._)("div",$e,[qe,Ve,De,Me,Ae,Ie,Oe,(0,s.Wm)(p,{name:"bolt",style:{"font-size":"1.5rem"}}),je,Ne,Ee,(0,s.Wm)(p,{name:"arrow_drop_down",style:{"font-size":"2rem"}}),Be,Fe,Ze]),o.preferences.lightningTips.enabled?((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s._)("div",null,[Ye,(0,s.Wm)(m,{modelValue:o.preferences.lightningTips.oneClick.enabled,"onUpdate:modelValue":t[5]||(t[5]=e=>o.preferences.lightningTips.oneClick.enabled=e),disable:!o.editingPreferences,color:"info","checked-icon":"check","unchecked-icon":"clear",size:"sm"},null,8,["modelValue","disable"]),Qe]),o.preferences.lightningTips.oneClick.enabled?((0,s.wg)(),(0,s.j4)(u,{key:0,modelValue:o.preferences.lightningTips.oneClick.amount,"onUpdate:modelValue":t[6]||(t[6]=e=>o.preferences.lightningTips.oneClick.amount=e),type:"number",label:"webln default tip",disable:!o.editingPreferences,filled:"",dense:"",suffix:"sats",style:{width:"10rem",padding:"10px 5px 5px 5px","margin-top":"10px"}},null,8,["modelValue","disable"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)])}var Ge=a(57674),Je=a(22198);const Xe={name:"Settings",emits:["update-font"],components:{BaseSelect:Je.Z},data(){return{editingPreferences:!1,choosingFont:!1,choosingTheme:!1,preferences:{},hasJustSharedRelay:!1,hasWebLn:!1,themes:{dostr:{primary:"#d671ea",secondary:"#5af2e0",accent:"#ecc865",background:"#1f1f1f"},mono:{primary:"#ffffff",secondary:"#aaaaaa",accent:"#777777",background:"#1f1f1f"},"zen lisa frank":{primary:"#14c5d2",secondary:"#9c45f2",accent:"#f943c9",background:"#c7c7c7"},nostrich:{primary:"#ad09c3",secondary:"#57198a",accent:"#9c45f2",background:"#fbf5ff"},dusk:{primary:"#ff5100",secondary:"#b86bff",accent:"#8373ff",background:"#000082"},camo:{primary:"#67983e",secondary:"#686512",accent:"#030c06",background:"#c5c7b2"},warm:{primary:"#f07575",secondary:"#ffb042",accent:"#ead04d",background:"#756168"},cool:{primary:"#83eefc",secondary:"#42a4ff",accent:"#a27aff",background:"#4a4d59"},southwest:{primary:"#719f9f",secondary:"#d27014",accent:"#994a00",background:"#e8d9b0"},dracula:{primary:"#50fa7b",secondary:"#8be9fd",accent:"#6272a4",background:"#282a36"},poimandres:{primary:"#5de4c7",secondary:"#5fa3b4",accent:"#acd7ff",background:"#1c1e28"}},fonts:["Roboto","Open Sans","Noto Sans JP","Montserrat","Lato","Poppins","Roboto Condensed","Source Sans Pro","Oswald","Roboto Mono","Raleway","Inter","Noto Sans","Ubuntu","Nunito","Roboto Slab","Nunito Sans","Playfair Display","Merriweather","PT Sans","Rubik","Noto Sans KR","Mukta","Lora","Kanit","Work Sans","Fira Sans","Barlow","Noto Sans TC","Nanum Gothic","Mulish","Quicksand","Titillium Web","PT Serif","Hind Siliguri","Heebo","Libre Franklin","DM Sans","Noto Serif","IBM Plex Sans","Karla","Josefin Sans","Arimo","Oxygen","Dosis","Inconsolata","Libre Baskerville","Anton","Manrope","Cairo","PT Sans Narrow","Secular One","Signika Negative","Source Serif Pro","Bebas Neue","Bitter","Cabin","Dancing Script","Abel","Hind","Barlow Condensed","Source Code Pro","Prompt","EB Garamond","Lobster","Varela Round","Comfortaa","Exo 2","Fjalla One","Pacifico","Crimson Text","Noto Sans SC","Noto Serif JP","Slabo 27px","Maven Pro","Teko","Asap","Overpass","Archivo","Caveat","Arvo","Jost","Merriweather Sans","Shadows Into Light","Abril Fatface","Assistant","Public Sans","M PLUS Rounded 1c","Rajdhani","Tajawal","Space Grotesk","Cormorant Garamond","Yanone Kaffeesatz","Saira Condensed","Catamaran","Questrial","Hind Madurai","Indie Flower","Fira Sans Condensed","IBM Plex Serif","Noto Sans HK","Alfa Slab One","Barlow Semi Condensed","Zilla Slab","Red Hat Display","IBM Plex Mono","M PLUS 1p","Play","Exo","Patrick Hand","Nanum Myeongjo","Domine","Signika","Chakra Petch","Satisfy","Permanent Marker","Acme","Fredoka One","Archivo Narrow","Sarabun","Bree Serif","Amatic SC","Noto Sans Arabic","Alegreya Sans","Righteous","Russo One","Alegreya","Vollkorn","Didact Gothic","ABeeZee","Almarai","Archivo Black","Cinzel","Baloo 2","Encode Sans","Kalam","Frank Ruhl Libre","Changa","Tinos","Yantramanav","DM Serif Display","Noto Serif TC","Asap Condensed","Amiri","Crete Round","Ubuntu Condensed","Lobster Two","Martel","Spectral","Noto Kufi Arabic","Cormorant","Courgette","Patua One","Passion One","Alata","Space Mono","Great Vibes","Cardo","Prata","Rokkitt","Sora","Fira Sans Extra Condensed","Ropa Sans","Noticia Text","Francois One","Old Standard TT","Michroma","IBM Plex Sans Arabic","PT Sans Caption","Montserrat Alternates","Orbitron","Kaushan Script","Saira","Faustina","Concert One","Antic Slab","Noto Sans Display","infotail","Unna","Chivo","Marcellus","Gelasio","Covered By Your Grace","Gothic A1","Crimson Pro","Sawarabi Mincho","Urbanist","Carter One","Cookie","Gloria Hallelujah","Pathway Gothic One","Mali","Rubik Mono One","Lexend Deca","Press Start 2P","News Cycle","Sacramento","Quattrocento Sans","Philosopher"]}},mounted(){this.clonePreferences(),this.hasWebLn=window.webln},methods:{clonePreferences(){this.preferences=JSON.parse(JSON.stringify(this.$store.state.config.preferences))},savePreferences(){this.$store.commit("setConfig",{key:"preferences",value:this.preferences}),this.editingPreferences=!1},updateColor(e,t){(0,Ge.Z)(t,e),this.preferences.color[t]=e,"background"===t&&this.$q.dark.set("dark"===this.lightOrDark(e))},updateTheme(e){for(let t of Object.keys(e))this.updateColor(e[t],t)},updateFont(e){this.preferences.font=e,this.$emit("update-font",e)},capitalise(e){return e.charAt(0).toUpperCase()+e.slice(1)},cancel(e){if("preferences"!==e);else{this.editingPreferences=!1,this.clonePreferences();for(let[e,t]of Object.entries(this.preferences.color))this.updateColor(t,e);this.updateFont(this.preferences.font)}},lightOrDark(e){var t,a,s,l;return e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],a=e[2],s=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,a=e>>8&255,s=255&e),l=Math.sqrt(t*t*.299+a*a*.587+s*s*.114),l>127.5?"light":"dark"},googleFontsName(e){try{return e.replace(" ","+")}catch(t){console.log("error for font ",e)}},closeSelects(e){this.choosingFont=!1,this.choosingTheme=!1}}};var et=a(11639),tt=a(24455),at=a(23175),st=a(66611),lt=a(22857),it=a(69984),nt=a.n(it);const ot=(0,et.Z)(Xe,[["render",He],["__scopeId","data-v-e82624ac"]]),rt=ot;nt()(Xe,"components",{QBtn:tt.Z,QToggle:at.Z,QInput:st.Z,QIcon:lt.Z});var dt=a(31020),ct=a(31262),mt=a(26041),ut=a(27678),pt=a.n(ut);const ht={title:"Dostr - Settings",meta:{description:{name:"description",content:"Nostr &amp; Dostr user configuration"},keywords:{name:"keywords",content:"nostr dostr decentralized social media siwe siwx"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}},ft={name:"Settings",mixins:[de.Z,(0,dt.Z)(ht)],emits:["update-font"],components:{BaseSelectMultiple:ce.Z,BaseInformation:me.Z,ThePreferences:rt},data(){return{keysDialog:!1,editingMetadata:!1,metadata:{},showLnAddr:!0,relays:{},editingRelays:!1,choosingFont:!1,choosingTheme:!1,newRelay:"",unsubscribe:null,hasJustSharedRelay:!1,petname:"",username:"",dialogVisible:!1,markdownContent:"",markdownTree:"",isLoading:!0}},watch:{"$store.state.relays"(e,t){e!==t&&this.cloneRelays()}},computed:{nickname(){return this.petname},optionalRelays(){let e=this.$store.state.optionalRelaysList.filter((e=>!(this.newRelay.length&&!e.toLowerCase().includes(this.newRelay.toLowerCase()))&&!this.relays[e]));return e},npubKey(){return this.$store.state.keys.pub?this.hexToBech32(this.$store.state.keys.pub,"npub"):null},nsecKey(){return this.$store.state.keys.priv?this.hexToBech32(this.$store.state.keys.priv,"nsec"):null},hasLnAddr(){return ct.P6.isLightningAddress(this.metadata.lud06)||ct.P6.isLnurl(this.metadata.lud06)&&this.lnurlToLnAddr(this.metadata.lud06)},isLnurl(){return ct.P6.isLnurl(this.metadata.lud06)}},mounted(){if(this.unsubscribe=this.$store.subscribe(((e,t)=>{switch(e.type){case"addProfileToCache":if(e.payload.pubkey!==t.keys.pub)return;(0,s.Y3)((()=>{setTimeout((()=>{this.cloneMetadata()}),1)}));break}})),this.cloneRelays(),this.$store.state.chainId){Object.keys(this.$store.state.relays).length&&this.saveRelays(),this.cloneMetadata();let e=0;const t=setInterval((()=>{5===e?(console.log("No profile found; updating profile"),this.setInfo(),clearInterval(t)):this.isEmptyOrUnresolved(this.metadata)?(console.log(`Making attempt ${e}/5 to fetch profile...`),e++):(console.log("Detected profile"),clearInterval(t))}),5e3)}else this.cloneMetadata(),console.log("No ChainID; non-ETH Login");this.$store.state.keys.pub||this.$router.push("/"),this.$store.state.keys.pub&&this.$route.params.initUser&&(0,s.Y3)((()=>{setTimeout((()=>{this.keysDialog=!0}),1e3)}))},beforeUnmount(){this.unsubscribe&&this.unsubscribe()},methods:{openExternalLink(e){window.open(e,"_blank").focus()},handleMarkdownError(e){console.error("Failed to parse markdown:",e)},loadMarkdownContent(e){fetch(e).then((e=>e.text())).then((e=>{const t=new(pt());this.markdownTree=t.parse(e),this.markdownContent=e})).catch((e=>{console.error("Failed to load markdown content:",e)}))},isEmptyOrUnresolved(e){const t=e.__proxy__?e.__proxy__:e;if(0===Object.keys(t).length)return!0;for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a))return!1;return!0},async setInfo(){if(console.log(this.metadata.picture),this.username=this.$store.state.username,this.petname=this.username.includes("@")?this.username.split("@")[0]:this.username,this.username.includes("@"))if(this.metadata.name!==this.petname&&this.metadata.nip05!==this.username){this.metadata.created_at&&delete this.metadata.created_at,this.metadata.name=this.petname,this.metadata.nip05=this.username.includes("@")?this.username:"";try{if((await re.r$.queryProfile(this.metadata.nip05)).pubkey!==this.$store.state.keys.pub)throw new Error("Failed to verify NIP-05 identifier at endpoint");this.$q.notify({message:"✅ NIP-05 successfully verified 🎉",color:"positive",classes:"notify"})}catch(e){this.$q.notify({message:"⚠️ Failed to verify NIP-05 identifier at endpoint",color:"warning",classes:"notify"})}this.$store.dispatch("setMetadata",this.metadata)}else console.log("Profile matches records; retrieved");else this.metadata.created_at&&delete this.metadata.created_at,this.metadata.name=this.petname,this.$store.dispatch("setMetadata",this.metadata)},copyCode(e){let t=e;(0,oe.Z)(t).then((()=>{})).catch((()=>{}))},cloneMetadata(){if(this.metadata=Object.assign({},this.$store.state.profilesCache[this.$store.state.keys.pub]),this.metadata.lud06){let e=this.lnurlToLnAddr(this.metadata.lud06);e&&(this.metadata.lud06=e)}else this.metadata.lud16&&(this.metadata.lud06=this.metadata.lud16)},convertLud06(){ct.P6.isLightningAddress(this.metadata.lud06)?this.metadata.lud06=this.lnAddrToLnurl(this.metadata.lud06):ct.P6.isLnurl(this.metadata.lud06)&&this.lnurlToLnAddr(this.metadata.lud06)&&(this.metadata.lud06=this.lnurlToLnAddr(this.metadata.lud06)),this.showLnAddr=!this.showLnAddr},cloneRelays(){this.relays=Object.assign({},Object.keys(this.$store.state.relays).length?this.$store.state.relays:this.$store.state.defaultRelays)},async setMetadata(){if(this.metadata.created_at&&delete this.metadata.created_at,""===this.metadata.nip05&&(this.metadata.nip05=void 0),this.metadata.nip05)try{if((await re.r$.queryProfile(this.metadata.nip05)).pubkey!==this.$store.state.keys.pub)throw new Error("Failed to verify NIP-05 identifier at endpoint")}catch(e){return void this.$q.notify({message:"⚠️ Failed to verify NIP-05 identifier at endpoint",color:"warning",classes:"notify"})}if(this.metadata.lud06){if(ct.P6.isLightningAddress(this.metadata.lud06))this.metadata.lud16=this.metadata.lud06,this.metadata.lud06=this.lnAddrToLnurl(this.metadata.lud16);else{let e=this.lnurlToLnAddr(this.metadata.lud06);e&&(this.metadata.lud16=e)}if(!ct.P6.isLnurl(this.metadata.lud06))return void this.$q.notify({message:"⚠️ Invalid LUD-06 identifier. LUD-06 identifiers must start with LNURL",color:"warning",classes:"notify"});if(this.metadata.lud16&&!ct.P6.isLightningAddress(this.metadata.lud16))return void this.$q.notify({message:"⚠️ Invalid LUD-16 identifier. LUD-16 identifier must be a Lightning address",color:"warning",classes:"notify"})}Object.keys(this.$store.state.relays).length||this.saveRelays(),this.$store.dispatch("setMetadata",this.metadata),this.editingMetadata=!1},addRelay(){this.newRelay&&this.newRelay.length&&(this.relays[this.newRelay]={read:!0,write:!0}),this.newRelay=""},shortUrl(e){return(0,mt.Xp)(e)},removeRelay(e){delete this.relays[e]},saveRelays(){Object.keys(this.relays).length?(this.$store.getters.canSignEventsAutomatically&&this.$store.commit("saveRelays",this.relays),this.editingRelays=!1):this.$q.dialog({title:"NO RELAYS SAVED!",message:"⚠️ You must select at least one relay to broadcast",ok:{color:"accent"},class:"dialog"}).onOk((()=>{}))},cancel(e){return"metadata"===e?(this.editingMetadata=!1,void this.cloneMetadata()):"relays"===e?(this.editingRelays=!1,void this.cloneRelays()):void 0},shareRelay(e){this.hasJustSharedRelay=!0,this.$store.dispatch("recommendRelay",e),setTimeout((()=>{this.hasJustSharedRelay=!1}),5e3)},async logout(){this.$q.dialog({title:"LOG OUT?",message:"ℹ️ This will not delete your local Nostr database and will allow you to login as another user. Continue?",cancel:{color:"accent"},ok:{color:"accent"},class:"dialog"}).onOk((async()=>{ne.Z.clear(),window.location.href="/"}))},async hardReset(){this.$q.dialog({title:"⚠️ DELETE ALL DATA?",message:"ℹ️ Do you really want to delete all your data from this device?",cancel:{color:"accent"},ok:{color:"negative"},class:"dialog"}).onOk((async()=>{ne.Z.clear(),window.location.reload()}))},updateFont(e){this.$emit("update-font",e)}}};var gt=a(69885),yt=a(8326),kt=a(46858),wt=a(87743),bt=a(44458),vt=a(63190),xt=a(11821),_t=a(50926),Ct=a(13246),St=a(490),Ut=a(61123),Pt=a(62146);const Wt=(0,et.Z)(ft,[["render",ie],["__scopeId","data-v-d7a658c4"]]),Rt=Wt;nt()(ft,"components",{QPage:gt.Z,QForm:yt.Z,QBtn:tt.Z,QInput:st.Z,QIcon:lt.Z,QTooltip:kt.Z,QDialog:wt.Z,QCard:bt.Z,QCardSection:vt.Z,QCardActions:xt.Z,QSeparator:_t.Z,QList:Ct.Z,QItem:St.Z,QToggle:at.Z,QExpansionItem:Ut.Z}),nt()(ft,"directives",{ClosePopup:Pt.Z})}}]);